[gd_scene load_steps=43 format=3 uid="uid://bg6va57dqqfms"]

[ext_resource type="PackedScene" uid="uid://dqob51ts1wg6" path="res://assets/background.kra" id="1_0rdsr"]
[ext_resource type="Texture2D" uid="uid://di501dbahn6a2" path="res://assets/box.png" id="1_d2op2"]
[ext_resource type="Script" uid="uid://cmc04lyibx04k" path="res://scripts/game.gd" id="1_o6v7o"]
[ext_resource type="Script" uid="uid://dhr1xnd3176t0" path="res://scripts/arm_controller.gd" id="2_0rdsr"]
[ext_resource type="AudioStream" uid="uid://b4vlgo5vf4km2" path="res://assets/audio/placeholder_lose.wav" id="2_sp04v"]
[ext_resource type="Texture2D" uid="uid://borlc7rkyfte4" path="res://assets/monkey_back.png" id="3_cybgu"]
[ext_resource type="PackedScene" uid="uid://duo56lu5y52a4" path="res://scenes/rotten_banana.tscn" id="3_ipu61"]
[ext_resource type="Script" uid="uid://co2arg6dtin3x" path="res://scripts/box.gd" id="3_wi4c7"]
[ext_resource type="PackedScene" uid="uid://bs5oxui8m7tqe" path="res://scenes/StrikeOutBoxes.tscn" id="4_vnsdt"]
[ext_resource type="Script" uid="uid://w10dsdbndn04" path="res://scripts/bg_monkeys.gd" id="4_wdxbp"]
[ext_resource type="AudioStream" uid="uid://i7qkfrqofxb5" path="res://assets/audio/placeholder_correct.wav" id="5_8xp80"]
[ext_resource type="Script" uid="uid://ccrrnfngnjr8h" path="res://scripts/conveyor_area.gd" id="5_nqdth"]
[ext_resource type="PackedScene" uid="uid://doy6a4jif0gi0" path="res://scenes/ripe_banana.tscn" id="5_ygxny"]
[ext_resource type="Script" uid="uid://dm6n4npbv1wi8" path="res://scenes/edge_area.gd" id="6_5cypo"]
[ext_resource type="AudioStream" uid="uid://dy2shyqvr28w5" path="res://assets/audio/placeholder_incorrect.wav" id="6_sp04v"]
[ext_resource type="Script" uid="uid://cmicso3jmfgdl" path="res://scripts/nanner_spawner.gd" id="6_wi4c7"]
[ext_resource type="Script" uid="uid://d3xtdp1s4k86d" path="res://scripts/scores.gd" id="8_70vka"]
[ext_resource type="Script" uid="uid://sopi4r8c0pme" path="res://scripts/floor_area.gd" id="11_ihbck"]
[ext_resource type="Script" uid="uid://6dr6fgvh1vs" path="res://scripts/gui.gd" id="12_o6v7o"]
[ext_resource type="PackedScene" uid="uid://c5e0rqbp36ivb" path="res://scenes/unripe_banana.tscn" id="15_yu8cv"]
[ext_resource type="Texture2D" uid="uid://cn70xl54l8wlx" path="res://assets/loading_bar/loading_bar_bg.png" id="17_5luka"]
[ext_resource type="Texture2D" uid="uid://cjm5gt5faxndt" path="res://assets/loading_bar/loading_bar_fg.png" id="18_yu8cv"]
[ext_resource type="PackedScene" uid="uid://c4ud3qmkqbup4" path="res://scenes/inspector.tscn" id="20_yu8cv"]
[ext_resource type="Texture2D" uid="uid://biydki7s6cuwt" path="res://assets/jumpscare_text.png" id="22_5wboo"]
[ext_resource type="AudioStream" uid="uid://cv1gg2uy6cxgs" path="res://assets/audio/jumpscare_placeholder.wav" id="23_6de02"]

[sub_resource type="CircleShape2D" id="CircleShape2D_6de02"]
radius = 48.166378

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0rdsr"]
size = Vector2(2413, 127)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5luka"]
size = Vector2(1960, 223)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yu8cv"]
size = Vector2(111, 964)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ibnub"]
size = Vector2(296, 415)

[sub_resource type="Curve" id="Curve_o6v7o"]
_limits = [0.42907596, 3.0, 0.0, 90.0]
_data = [Vector2(0, 0.42907596), 0.0, 0.0, 0, 0, Vector2(1e-05, 0.42907596), 0.0, 0.0, 0, 0, Vector2(16.403227, 1.1410358), 0.0, 0.0, 0, 0, Vector2(21.919355, 0.42907596), 0.0, 0.0, 0, 0, Vector2(33.387096, 1.7311832), 0.0, 0.0, 0, 0, Vector2(50.225803, 1.7213473), 0.0, 0.0, 0, 0, Vector2(53.999996, 0.42907596), 0.0, 0.0, 0, 0, Vector2(59.80645, 0.42907596), 0.0, 0.0, 0, 0, Vector2(60.532253, 2.2328086), 0.0, 0.0, 0, 0, Vector2(77.951614, 1.5541389), 0.0, 0.0, 0, 0]
point_count = 10

[sub_resource type="LabelSettings" id="LabelSettings_yu8cv"]
font_color = Color(0, 0, 0, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_ikqpi"]
atlas = ExtResource("17_5luka")
region = Rect2(1415.0728, 955.84216, 477.0415, 119.2605)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_5wboo"]
texture = SubResource("AtlasTexture_ikqpi")

[sub_resource type="AtlasTexture" id="AtlasTexture_5luka"]
atlas = ExtResource("18_yu8cv")
region = Rect2(1408.7959, 949.5653, 480.17993, 134.95264)

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_ibnub"]
texture = SubResource("AtlasTexture_5luka")

[sub_resource type="Theme" id="Theme_5luka"]
ProgressBar/styles/background = SubResource("StyleBoxTexture_5wboo")
ProgressBar/styles/fill = SubResource("StyleBoxTexture_ibnub")

[sub_resource type="AtlasTexture" id="AtlasTexture_yu8cv"]
atlas = ExtResource("17_5luka")
region = Rect2(1423.0804, 948.54553, 451.81848, 133.63647)

[sub_resource type="AtlasTexture" id="AtlasTexture_ibnub"]
atlas = ExtResource("18_yu8cv")
region = Rect2(1418.8076, 951.3176, 458.677, 128.09924)

[sub_resource type="Animation" id="Animation_5wboo"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Inspector:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-719, 80)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Inspector:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.7, 0.7)]
}

[sub_resource type="Animation" id="Animation_ibnub"]
resource_name = "walk"
length = 8.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Inspector:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.96666664, 2.9666667, 4.9333334, 6.9666667),
"transitions": PackedFloat32Array(1, -2, 1, -2, 1),
"update": 0,
"values": [Vector2(-719, 80), Vector2(-719, 80), Vector2(-159.00006, -329.99997), Vector2(-159.00006, -329.99997), Vector2(-719, 80)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Inspector:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.96666664, 2.9666667, 4.9333334, 6.9666667),
"transitions": PackedFloat32Array(1, -2, 1, -2, 1),
"update": 0,
"values": [Vector2(0.7, 0.7), Vector2(0.7, 0.7), Vector2(0.15, 0.15), Vector2(0.15, 0.15), Vector2(0.7, 0.7)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Inspector")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 3.9666667),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"face_back"
}, {
"args": [],
"method": &"face_front"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6de02"]
_data = {
&"RESET": SubResource("Animation_5wboo"),
&"walk": SubResource("Animation_ibnub")
}

[node name="MainGame" type="Node2D"]
script = ExtResource("1_o6v7o")

[node name="Sound Effects (non-Box & non-Banan))" type="Node" parent="."]

[node name="GameOver" type="AudioStreamPlayer2D" parent="Sound Effects (non-Box & non-Banan))"]
stream = ExtResource("2_sp04v")
bus = &"Sound Effects"

[node name="BackgroundMonkeys" type="Node" parent="."]

[node name="One" type="Control" parent="BackgroundMonkeys"]
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = -375.0
offset_top = -376.0
offset_right = 588.0
offset_bottom = -132.0

[node name="Sprite" type="Sprite2D" parent="BackgroundMonkeys/One"]
position = Vector2(272, 175)
scale = Vector2(0.5, 0.5)
texture = ExtResource("3_cybgu")
script = ExtResource("4_wdxbp")

[node name="Two" type="Control" parent="BackgroundMonkeys"]
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = -189.0
offset_top = -475.0
offset_right = 209.0
offset_bottom = -289.0

[node name="Sprite" type="Sprite2D" parent="BackgroundMonkeys/Two"]
position = Vector2(291, 162)
scale = Vector2(0.3, 0.3)
texture = ExtResource("3_cybgu")
script = ExtResource("4_wdxbp")
DEG = 30.0
LEN = 1.0

[node name="Camera2D" type="Camera2D" parent="."]

[node name="background" parent="." instance=ExtResource("1_0rdsr")]
position = Vector2(-960, -540)

[node name="Near Wall" parent="background" index="6"]
z_index = 11

[node name="RipeBox" type="Area2D" parent="."]
position = Vector2(-437, 372)
script = ExtResource("3_wi4c7")
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="RipeBox"]
modulate = Color(0.6715544, 0.6942426, 3.85046e-07, 1)
rotation = -0.03490658
scale = Vector2(0.3, 0.3)
texture = ExtResource("1_d2op2")
flip_h = true

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="RipeBox"]
position = Vector2(25, -71)
rotation = 3.1415925
scale = Vector2(37.384018, -28.543884)
polygon = PackedVector2Array(1.8992076, 0.7357092, 3.0226817, -0.6656418, -1.6852121, -0.8057766, -2.755188, 0.5605402)

[node name="AudioCorrect" type="AudioStreamPlayer2D" parent="RipeBox"]
stream = ExtResource("5_8xp80")
bus = &"Sound Effects"

[node name="AudioIncorrect" type="AudioStreamPlayer2D" parent="RipeBox"]
stream = ExtResource("6_sp04v")
bus = &"Sound Effects"

[node name="RottenBox" type="Area2D" parent="."]
position = Vector2(36, 372)
script = ExtResource("3_wi4c7")
accepts = 2
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="RottenBox"]
modulate = Color(1, 0.4776129, 0.41281223, 1)
scale = Vector2(0.3, 0.3)
texture = ExtResource("1_d2op2")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="RottenBox"]
position = Vector2(-18.5, -38.00003)
rotation = 3.1415925
scale = Vector2(37.384018, -28.543884)
polygon = PackedVector2Array(2.9825583, -0.42040443, 1.9660807, -1.8567896, -2.7418137, -1.926857, -1.6985865, -0.4554386)

[node name="AudioCorrect" type="AudioStreamPlayer2D" parent="RottenBox"]
stream = ExtResource("5_8xp80")
bus = &"Sound Effects"

[node name="AudioIncorrect" type="AudioStreamPlayer2D" parent="RottenBox"]
stream = ExtResource("6_sp04v")
bus = &"Sound Effects"

[node name="UnripeBox" type="Area2D" parent="."]
position = Vector2(448, 372)
script = ExtResource("3_wi4c7")
accepts = 1
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="UnripeBox"]
modulate = Color(4.0911136e-06, 0.7956194, 0.2148616, 1)
scale = Vector2(0.3, 0.3)
texture = ExtResource("1_d2op2")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="UnripeBox"]
position = Vector2(-18.5, -38.00003)
rotation = 3.1415925
scale = Vector2(37.384018, -28.543884)
polygon = PackedVector2Array(2.9558086, -0.4554386, 1.9660797, -1.8567886, -2.7685623, -1.926856, -1.6985874, -0.49047184)

[node name="AudioCorrect" type="AudioStreamPlayer2D" parent="UnripeBox"]
stream = ExtResource("5_8xp80")
bus = &"Sound Effects"

[node name="AudioIncorrect" type="AudioStreamPlayer2D" parent="UnripeBox"]
stream = ExtResource("6_sp04v")
bus = &"Sound Effects"

[node name="ConveyorArea" type="Area2D" parent="."]
script = ExtResource("5_nqdth")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ConveyorArea"]
polygon = PackedVector2Array(-350, -117, 1279, -116, 1280, -2, -470, -7)

[node name="EdgeArea" type="Area2D" parent="."]
script = ExtResource("6_5cypo")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="EdgeArea"]
polygon = PackedVector2Array(-367, -127, -342, -128, -496, 12, -539, 11)

[node name="ArmPivot" type="Node2D" parent="."]
position = Vector2(0, 594)
script = ExtResource("2_0rdsr")
paw_color = Color(1, 0.7882353, 0.48235294, 1)
arm_color = Color(0.6431373, 0.3764706, 0, 1)
metadata/_edit_group_ = true

[node name="HandArea" type="Area2D" parent="ArmPivot"]
unique_name_in_owner = true
position = Vector2(1, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="ArmPivot/HandArea"]
shape = SubResource("CircleShape2D_6de02")

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(-12, 494)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
shape = SubResource("RectangleShape2D_0rdsr")
debug_color = Color(0.8371058, 0.38709053, 0, 0.41960785)

[node name="FloorArea" type="Area2D" parent="Floor"]
position = Vector2(-10, -30)
script = ExtResource("11_ihbck")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Floor/FloorArea"]
polygon = PackedVector2Array(-1198, -11, -1201, -41, 1225, -39, 1226, -3)

[node name="Walls" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls"]
position = Vector2(-3, -641.5)
shape = SubResource("RectangleShape2D_5luka")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Walls"]
position = Vector2(-1014.5, -55)
shape = SubResource("RectangleShape2D_yu8cv")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Walls"]
position = Vector2(1106, 219.5)
shape = SubResource("RectangleShape2D_ibnub")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Walls"]
position = Vector2(1110, -328)
shape = SubResource("RectangleShape2D_ibnub")

[node name="NannerSpawner" type="Node" parent="."]
script = ExtResource("6_wi4c7")
spawnable_objects = Array[PackedScene]([ExtResource("5_ygxny"), ExtResource("3_ipu61"), ExtResource("15_yu8cv")])
spawn_rate = SubResource("Curve_o6v7o")

[node name="Node2D" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -124)

[node name="Node2D2" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -124)

[node name="Node2D3" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -106)

[node name="Node2D4" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -87)

[node name="Node2D5" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -69)

[node name="Node2D6" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -48)

[node name="Node2D7" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -31)

[node name="Node2D8" type="Node2D" parent="NannerSpawner"]
position = Vector2(1126, -10)

[node name="Scores" type="Label" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 549.0
offset_top = -486.0
offset_right = 784.0
offset_bottom = -441.0
grow_horizontal = 2
grow_vertical = 2
text = "HOJASDLJNASD"
label_settings = SubResource("LabelSettings_yu8cv")
script = ExtResource("8_70vka")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GUI" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("12_o6v7o")

[node name="ProgressBar" type="TextureProgressBar" parent="CanvasLayer/GUI"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 1436.0
offset_top = -1080.0
offset_right = -1.0
offset_bottom = -920.0
grow_horizontal = 2
grow_vertical = 0
theme = SubResource("Theme_5luka")
max_value = 90.0
step = 0.1
texture_under = SubResource("AtlasTexture_yu8cv")
texture_progress = SubResource("AtlasTexture_ibnub")
metadata/_edit_use_anchors_ = true

[node name="StrikeOutBoxes" parent="." instance=ExtResource("4_vnsdt")]

[node name="Inspector" parent="." instance=ExtResource("20_yu8cv")]
position = Vector2(-719, 80)
scale = Vector2(0.7, 0.7)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
&"": SubResource("AnimationLibrary_6de02")
}

[node name="JumpscareText" type="Sprite2D" parent="."]
visible = false
position = Vector2(-12, 21)
scale = Vector2(1.5, 1.5)
texture = ExtResource("22_5wboo")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="JumpscareText"]
stream = ExtResource("23_6de02")
bus = &"Sound Effects"

[connection signal="body_entered" from="ConveyorArea" to="ConveyorArea" method="_on_body_entered"]
[connection signal="body_entered" from="EdgeArea" to="EdgeArea" method="_on_body_entered"]
[connection signal="body_exited" from="EdgeArea" to="EdgeArea" method="_on_body_exited"]
[connection signal="body_entered" from="ArmPivot/HandArea" to="ArmPivot" method="_on_hand_area_body_entered"]
[connection signal="body_entered" from="Floor/FloorArea" to="Floor/FloorArea" method="_on_body_entered"]

[editable path="background"]
[editable path="Inspector"]
